C51 COMPILER V9.54   MAIN                                                                  10/04/2024 10:01:51 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include <Timer.h>
   3          #include <delay.h>
   4          #include <key.h>
   5          #include <LED_LIGHT_LZH.h>
   6          
   7          sbit buzzer=P1^3;
   8          /*
   9          #define DO0   0
  10          #define DO0_  1
  11          #define RE0   2
  12          #define RE0_  3
  13          #define MI0   4
  14          #define FA0   5
  15          #define FA0_  6
  16          #define SO0   7
  17          #define SO0_  8
  18          #define LA0   9
  19          #define LA0_ 10
  20          #define SI0  11
  21          #define DO1  12
  22          #define DO1_ 13
  23          #define RE1  14
  24          #define RE1_ 15
  25          #define MI1  16
  26          #define FA1  17
  27          #define FA1_ 18
  28          #define SO1  19
  29          #define SO1_ 20
  30          #define LA1  21
  31          #define LA1_ 22
  32          #define SI1  23
  33          #define DO2  24
  34          #define DO2_ 25
  35          #define RE2  26
  36          #define RE2_ 27
  37          #define MI2  28
  38          #define FA2  29
  39          #define FA2_ 30
  40          #define SO2  31
  41          #define SO2_ 32
  42          #define LA2  33
  43          #define LA2_ 34
  44          #define SI2  35
  45          #define DO3  36
  46          #define DO3_ 37
  47          #define RE3  38
  48          #define RE3_ 39
  49          #define MI3  40
  50          #define FA3  41
  51          #define FA3_ 42
  52          #define SO3  43
  53          #define SO3_ 44
  54          #define LA3  45
C51 COMPILER V9.54   MAIN                                                                  10/04/2024 10:01:51 PAGE 2   

  55          #define LA3_ 46
  56          #define SI3  47
  57          #define DO4  48
  58          #define DO4_ 49
  59          #define RE4  50
  60          #define RE4_ 51
  61          #define MI4  52
  62          #define FA4  53
  63          #define FA4_ 54
  64          #define SO4  55
  65          #define SO4_ 56
  66          #define LA4  57
  67          #define LA4_ 58
  68          #define SI4  59
  69          #define DO5  60
  70          #define DO5_ 61
  71          #define RE5  62
  72          #define RE5_ 63
  73          #define MI5  64
  74          #define FA5  65
  75          #define FA5_ 66
  76          #define SO5  67
  77          #define SO5_ 68
  78          #define LA5  69
  79          #define LA5_ 70
  80          #define SI5  71
  81          #define DO6  72
  82          #define DO6_ 73
  83          #define RE6  74
  84          #define RE6_ 75
  85          #define MI6  76
  86          #define FA6  77
  87          #define FA6_ 78
  88          #define SO6  79
  89          #define SO6_ 80
  90          #define LA6  81
  91          #define LA6_ 82
  92          #define SI6  83
  93          #define DO7  84
  94          #define DO7_ 85
  95          #define RE7  86
  96          #define RE7_ 87
  97          #define MI7  88
  98          #define FA7  89
  99          #define FA7_ 90
 100          #define SO7  91
 101          #define SO7_ 92
 102          #define LA7  93
 103          #define LA7_ 94
 104          #define SI7  95
 105          #define DO8  96
 106          #define DO8_ 97
 107          #define RE8  98
 108          #define RE8_ 99
 109          
 110          #define RES  0xFF
 111          #define SETTEMPOTIME 0xFD
 112          #define SETSCALEOFFSET 0xFC
 113          #define SETREPERTPOS 0xFB
 114          #define REPERT 0xFA
 115          
 116          #define byte unsigned char
C51 COMPILER V9.54   MAIN                                                                  10/04/2024 10:01:51 PAGE 3   

 117          #define sbyte signed char
 118          #define uint unsigned int 
 119          */
 120          
 121          code unsigned int scaleTable[] =
 122          {
 123              0x91E9, 0x9813, 0x9DE8, 0xA374, 0xA89F, 0xAD8B, 0xB225, 0xB688, 0xBAAA, 0xBE8C, 0xC23B, 0xC5B1, 
 124              0xC8F4, 0xCC0D, 0xCEF8, 0xD1B7, 0xD450, 0xD6C3, 0xD915, 0xDB44, 0xDD53, 0xDF46, 0xE11C, 0xE2D8, 
 125              0xE47B, 0xE607, 0xE77C, 0xE8DC, 0xEA28, 0xEB62, 0xEC8A, 0xEDA2, 0xEEAA, 0xEFA3, 0xF08E, 0xF16C, 
 126              0xF23D, 0xF303, 0xF3BE, 0xF46E, 0xF514, 0xF5B1, 0xF645, 0xF6D1, 0xF755, 0xF7D1, 0xF847, 0xF8B6, 
 127              0xF91F, 0xF982, 0xF9DF, 0xFA37, 0xFA8A, 0xFAD9, 0xFB23, 0xFB68, 0xFBAA, 0xFBE9, 0xFC23, 0xFC5B, 
 128              0xFC8F, 0xFCC1, 0xFCEF, 0xFD1B, 0xFD45, 0xFD6C, 0xFD91, 0xFDB4, 0xFDD5, 0xFDF4, 0xFE12, 0xFE2D, 
 129              0xFE48, 0xFE60, 0xFE78, 0xFE8E, 0xFEA3, 0xFEB6, 0xFEC9, 0xFEDA, 0xFEEB, 0xFEFA, 0xFF09, 0xFF17, 
 130              0xFF24, 0xFF30, 0xFF3C, 0xFF47, 0xFF51, 0xFF5B, 0xFF64, 0xFF6D, 0xFF75, 0xFF7D, 0xFF84, 0xFF8B, 
 131              0xFF92, 0xFF98, 0xFF9E, 0xFFA3, 
 132          };                                            
 133          
 134          unsigned char FreqSelect,MusicSelect;
 135          static unsigned int T0Count;
 136          static unsigned int T1Count;
 137          extern int pitch;
 138          extern bpm;
 139          
 140          void main()
 141          {
 142   1        Timer0_Init();
 143   1        bpm_set(42); //bpm_set=((60/bpm)/8)*1000
 144   1          lowest_set(43);
 145   1          key(48,4);stop(8);key(47,4);key(46,4);stop(4);key(43,4);key(44,4);key(43,4);stop(2);key(46,2);key(48,4);
             -key(51,4);key(55,4);stop(4);key(51,4);stop(4);key(53,4);stop(4);key(55,4);key(51,4);key(48,6);key(48,2);key(43,4);key(51
             -,4);key(50,4);key(50,4);
 146   1          key(46,8);key(43,4);stop(12);
 147   1          
 148   1          lowest_set(41);
 149   1          key(48,6);key(48,2),key(48,4);key(47,4),key(46,2);stop(2);key(43,4);key(41,4);key(43,4);key(41,4);stop(2
             -);key(43,2);key(46,4);key(48,4);key(55,4);stop(4);key(58,4);key(55,4);key(53,4);stop(4);key(53,4);key(55,4);key(51,4);st
             -op(4);key(48,4),key(43,4);
 150   1          key(46,6);key(46,2);key(43,4);key(46,4);key(48,4);stop(12);
 151   1          
 152   1          lowest_set(43);
 153   1          key(58,4);stop(8);key(55,4);key(53,4);stop(4);key(50,4);key(50,4);key(51,4);key(50,2);key(50,2);key(51,4
             -);key(46,4);key(55,4);stop(4);key(51,4);key(51,4);key(53,4);stop(4);key(55,4);key(51,4);key(48,4);stop(4);key(43,4);key(
             -51,4);key(50,6);key(50,2);
 154   1          key(46,6);key(46,2);key(43,4);stop(12);
 155   1          
 156   1          lowest_set(41);
 157   1          key(48,6);key(48,2),key(48,4);key(47,4),key(46,4);stop(4);key(41,4);key(43,4);key(41,6);;key(43,2);key(4
             -6,4);key(48,4);key(55,4);stop(4);key(58,4);key(55,4);key(53,4);stop(4);key(53,4);key(55,4);key(51,4);key(51,4);key(48,4)
             -;key(43,2);key(43,2);key(46,6);key(46,2);
 158   1          key(43,4);key(43,4);key(48,4);stop(4);
 159   1          
 160   1          lowest_set(39);
 161   1          key(39,4);key(39,4);key(41,4);key(43,4);key(43,4);key(46,4);key(46,4);key(48,4);key(46,4);key(48,4);key(
             -50,4);key(51,4);key(50,4);key(46,4);key(43,4);stop(4);
 162   1          
 163   1          lowest_set(39);
 164   1          key(46,4);key(39,4);key(39,6);key(39,2);key(41,4);key(43,4);key(46,6);key(46,2);key(43,4);key(46,4);key(
             -50,6);key(51,2);key(50,4);key(46,4);key(43,4);stop(4);
 165   1          
 166   1          lowest_set(39);
 167   1          key(39,4);key(39,4);key(41,4);key(43,4);key(43,4);key(46,4);key(46,4);key(48,4);key(46,4);key(48,4);key(
             -50,4);key(51,4);key(50,4);key(55,4);key(53,4);stop(4);
C51 COMPILER V9.54   MAIN                                                                  10/04/2024 10:01:51 PAGE 4   

 168   1          
 169   1          lowest_set(39);
 170   1          key(50,4);key(46,4);key(48,4);key(48,4);key(39,4);stop(4);key(41,2);key(41,2);key(41,2);key(39,2);key(41
             -,4);key(43,4);key(46,6);key(48,2);key(46,4);key(43,4);key(48,4);stop(4);
 171   1          
 172   1          lowest_set(43);
 173   1          key(55,8);key(53,6);key(51,2);key(53,4);key(55,4);key(43,8);key(45,6);key(45,2);key(48,6),key(48,2);key(
             -55,8);key(53,8);key(58,8);key(50,8);key(51,8);key(50,4);key(46,4);key(43,4);key(46,4);key(48,4);stop(4);
 174   1          
 175   1          lowest_set(46);
 176   1          key(55,8);key(53,8);key(58,8);key(53,4);stop(2);key(55,2);key(58,4);key(60,4);key(55,4);stop(4);key(55,4
             -);key(58,2);key(58,2);key(60,6);key(60,2);key(60,8);key(58,8);key(55,6);key(55,2);key(53,8);key(55,8);key(53,4);key(51,4
             -);key(48,4);key(46,4);key(48,8);key(48,8);
 177   1          key(46,6);key(55,2);key(53,4);key(51,2);key(51,2);key(48,4);key(51,2);key(51,2);key(48,4);key(46,2);key(
             -46,2);key(48,4);
 178   1          
 179   1          lowest_set(43);
 180   1          key(43,4);key(46,6);key(46,2);key(48,6);key(48,2);key(55,8);key(53,8);key(58,8);key(50,8);key(51,8);key(
             -50,4);key(46,4);key(43,4);key(46,4);key(48,4);stop(4);key(55,4);key(53,4);key(53,4);stop(4);key(58,8);key(53,6);key(55,2
             -);key(58,4);key(60,4);key(55,4);stop(4);
 181   1          
 182   1          lowest_set(46);
 183   1          key(55,4);key(58,2);key(58,2);key(60,6);key(60,2);key(60,4);stop(4);key(58,4);stop(4);key(55,6);key(55,2
             -);key(53,4);stop(4);key(55,8);key(53,4);key(51,4);key(48,4);key(46,4);key(48,4);stop(4);key(48,8);key(46,6);key(55,2);ke
             -y(53,4);key(51,2);key(51,2);key(48,4);key(51,2);key(51,2);
 184   1          key(48,4);key(46,2);key(46,2);key(48,4);stop(150);
 185   1          
 186   1          pitch = 0;
 187   1          }
 188              
 189              
 190              
 191              
 192              
 193              
 194          
 195          
 196          
 197          
 198          
 199          
 200          
 201          
 202          
 203          
 204          void Timer0_Routine() interrupt 1
 205          { 
 206   1        TL0 = scaleTable[FreqSelect]%256;
 207   1        TH0 = scaleTable[FreqSelect]/256;
 208   1        buzzer=!buzzer;
 209   1      }
 210          
 211          /*void Timer1_Routine() interrupt 1
 212          {
 213            if (P2_0 == 0)
 214            {
 215              delay(20);
 216              while(P2_0 ==0);
 217              if (P2_0 == 1)
 218              {
 219                cmd_goto = 1;
 220              }
C51 COMPILER V9.54   MAIN                                                                  10/04/2024 10:01:51 PAGE 5   

 221            }
 222          }
 223          */


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   3393    ----
   CONSTANT SIZE    =    200    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      6    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
